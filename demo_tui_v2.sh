#!/bin/bash

echo "=== ä¼˜åŒ–åçš„æŸ¥è¯¢å†å² TUI ç•Œé¢æ¼”ç¤º ==="
echo
echo "æ–°ç‰ˆTUIæä¾›äº†æ›´å®Œå–„çš„äº¤äº’ä½“éªŒï¼š"
echo
echo "âœ¨ æ–°ç‰¹æ€§ï¼š"
echo "  ğŸ“œ ä¸ä¼šé€€å‡ºçš„å†å²æµè§ˆ"
echo "  ğŸ” åœ¨TUIå†…æ‰§è¡ŒæŸ¥è¯¢"
echo "  ğŸ“Š è¯¦ç»†çš„æŸ¥è¯¢ä¿¡æ¯é¢æ¿"
echo "  â“ å†…ç½®å¸®åŠ©ç³»ç»Ÿ"
echo "  ğŸ”„ å®æ—¶åˆ·æ–°å†å²"
echo "  ğŸ’¬ æ‰§è¡Œç»“æœå¼¹çª—æ˜¾ç¤º"
echo
echo "ğŸ® å¿«æ·é”®ï¼š"
echo "  Enter/x  - æ‰§è¡Œé€‰ä¸­çš„æŸ¥è¯¢ï¼ˆä¸é€€å‡ºï¼‰"
echo "  â†‘â†“/jk    - ä¸Šä¸‹å¯¼èˆª"
echo "  /        - æœç´¢æ¨¡å¼"
echo "  d        - åˆ‡æ¢è¯¦æƒ…é¢æ¿"
echo "  r        - åˆ·æ–°å†å²è®°å½•"
echo "  ?        - æ˜¾ç¤ºå¸®åŠ©"
echo "  g/G      - è·³åˆ°å¼€å¤´/ç»“å°¾"
echo "  f/b      - ç¿»é¡µ"
echo "  q/ESC    - é€€å‡º"
echo
echo "å‡†å¤‡å¯åŠ¨TUIç•Œé¢..."
echo "æŒ‰ä»»æ„é”®ç»§ç»­..."
read -n 1

# å…ˆæ·»åŠ ä¸€äº›æµ‹è¯•æ•°æ®
echo "æ·»åŠ æµ‹è¯•æŸ¥è¯¢..."
cargo run -- --query "author:test" 2>/dev/null
cargo run -- --query "message:feat" 2>/dev/null
cargo run -- --query "since:2024-01-01" 2>/dev/null

echo "å¯åŠ¨TUI..."
cargo run -- --query-tui