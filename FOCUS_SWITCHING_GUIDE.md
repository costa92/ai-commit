# 增强 TUI 焦点切换功能

## 问题修复
修复了在 Branches/Tags/Remotes 标签页中无法进入提交列表查看 diff 的问题。

## 新增功能

### 1. 焦点切换机制
- **Enter 键**：
  - 左侧焦点时：切换焦点到右侧提交列表
  - 右侧焦点时：进入 diff 查看模式（查看文件对比）
  
- **ESC 键**：返回左侧焦点（分支/标签列表）

- **Ctrl+W**：在任意分屏模式下切换焦点

### 2. 提交列表导航
当焦点在右侧提交列表时：
- **j/↓**：下一个提交
- **k/↑**：上一个提交
- **Enter**：查看选中提交的 diff（文件对比）
- **ESC**：返回左侧列表

### 3. 视觉反馈
- 黄色边框：表示当前焦点位置
- 白色边框：表示非焦点面板
- 高亮选中：当前选中的项目

## 使用流程

1. 打开增强版 TUI：
   ```bash
   ai-commit --query-tui-pro
   ```

2. 切换到 Branches/Tags 标签页（使用 Tab 键）

3. 选择分支/标签（j/k 导航）

4. 按 **Enter** 切换到右侧提交列表

5. 在提交列表中导航（j/k）

6. 按 **Enter** 查看选中提交的文件差异

7. 按 **q** 或 **ESC** 退出 diff 查看

8. 按 **ESC** 返回左侧分支/标签列表

## 快捷键总结

| 快捷键 | 左侧焦点时 | 右侧焦点时 |
|--------|-----------|-----------|
| Enter | 切换到右侧提交列表 | 查看 diff |
| j/↓ | 下一个分支/标签 | 下一个提交 |
| k/↑ | 上一个分支/标签 | 上一个提交 |
| ESC | - | 返回左侧 |
| c | checkout 分支/标签 | - |
| l | 切换左侧面板显示 | 切换左侧面板显示 |
| p | 拉取最新代码 | 拉取最新代码 |
| Tab | 下一个标签页 | 下一个标签页 |
| q | 退出 | 退出 |

## 特性亮点

1. **无缝导航**：在分支列表和提交历史之间快速切换
2. **一致体验**：所有标签页都支持相同的导航模式
3. **视觉清晰**：焦点位置通过边框颜色明确指示
4. **快速预览**：选择分支后自动加载对应的提交历史