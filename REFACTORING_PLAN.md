# AI-Commit é‡æ„è®¡åˆ’

## ç›®æ ‡

1. **æå‡ä»£ç å¯è¯»æ€§**ï¼šæ¨¡å—åŒ–è®¾è®¡ï¼ŒèŒè´£å•ä¸€
2. **å¢å¼ºæ‰©å±•æ€§**ï¼šä½¿ç”¨ trait å’Œæ¥å£ï¼Œæ˜“äºæ·»åŠ æ–°åŠŸèƒ½
3. **ç®€åŒ–å‘½ä»¤è¡Œ**ï¼šé‡‡ç”¨å­å‘½ä»¤æ¨¡å¼ï¼Œåˆ†ç»„ç®¡ç†åŠŸèƒ½
4. **ä¼˜åŒ–æ€§èƒ½**ï¼šå¹¶è¡Œå¤„ç†ã€ç¼“å­˜æœºåˆ¶ã€è¿æ¥å¤ç”¨
5. **å®Œå–„æµ‹è¯•**ï¼šæ¯ä¸ªæ¨¡å—éƒ½æœ‰å®Œæ•´çš„å•å…ƒæµ‹è¯•

## æ¶æ„æ”¹è¿›

### 1. æ–°çš„ç›®å½•ç»“æ„

```
src/
â”œâ”€â”€ core/                    # æ ¸å¿ƒä¸šåŠ¡é€»è¾‘
â”‚   â”œâ”€â”€ ai/                 # AI ç›¸å…³
â”‚   â”‚   â”œâ”€â”€ mod.rs          # AI æœåŠ¡æ¥å£
â”‚   â”‚   â”œâ”€â”€ provider.rs     # Provider trait å®šä¹‰
â”‚   â”‚   â”œâ”€â”€ prompt.rs       # æç¤ºè¯ç®¡ç†
â”‚   â”‚   â””â”€â”€ providers/      # å…·ä½“å®ç°
â”‚   â”‚       â”œâ”€â”€ ollama.rs
â”‚   â”‚       â”œâ”€â”€ deepseek.rs
â”‚   â”‚       â””â”€â”€ siliconflow.rs
â”‚   â”œâ”€â”€ git/                # Git æ“ä½œ
â”‚   â”‚   â”œâ”€â”€ mod.rs          # Git ç»Ÿä¸€æ¥å£
â”‚   â”‚   â”œâ”€â”€ repository.rs   # ä»“åº“æ“ä½œ
â”‚   â”‚   â”œâ”€â”€ commit.rs       # æäº¤ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ branch.rs       # åˆ†æ”¯ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ tag.rs          # æ ‡ç­¾ç®¡ç†
â”‚   â”‚   â””â”€â”€ worktree.rs     # å·¥ä½œæ ‘ç®¡ç†
â”‚   â””â”€â”€ config/             # é…ç½®ç®¡ç†
â”‚       â”œâ”€â”€ mod.rs          # é…ç½®æ¥å£
â”‚       â”œâ”€â”€ loader.rs       # é…ç½®åŠ è½½
â”‚       â””â”€â”€ validator.rs    # é…ç½®éªŒè¯
â”œâ”€â”€ cli/                    # å‘½ä»¤è¡Œæ¥å£
â”‚   â”œâ”€â”€ mod.rs             # CLI ä¸»å…¥å£
â”‚   â”œâ”€â”€ commands/          # å­å‘½ä»¤å®ç°
â”‚   â”‚   â”œâ”€â”€ commit.rs      # commit å­å‘½ä»¤
â”‚   â”‚   â”œâ”€â”€ tag.rs         # tag å­å‘½ä»¤
â”‚   â”‚   â”œâ”€â”€ flow.rs        # flow å­å‘½ä»¤
â”‚   â”‚   â”œâ”€â”€ worktree.rs    # worktree å­å‘½ä»¤
â”‚   â”‚   â”œâ”€â”€ history.rs     # history å­å‘½ä»¤
â”‚   â”‚   â””â”€â”€ config.rs      # config å­å‘½ä»¤
â”‚   â””â”€â”€ parser.rs          # å‘½ä»¤è§£æå™¨
â”œâ”€â”€ utils/                  # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ cache.rs           # ç¼“å­˜ç®¡ç†
â”‚   â”œâ”€â”€ async_pool.rs      # å¼‚æ­¥ä»»åŠ¡æ± 
â”‚   â””â”€â”€ format.rs          # æ ¼å¼åŒ–å·¥å…·
â””â”€â”€ tests/                 # æµ‹è¯•
    â”œâ”€â”€ unit/              # å•å…ƒæµ‹è¯•
    â””â”€â”€ integration/       # é›†æˆæµ‹è¯•
```

### 2. å‘½ä»¤è¡Œç®€åŒ–ï¼ˆå­å‘½ä»¤æ¨¡å¼ï¼‰

**ä¹‹å‰**ï¼š100+ ä¸ªå¹³é“ºçš„å‚æ•°
```bash
ai-commit --new-tag v1.0.0 --tag-note "release" --push --force-push
```

**é‡æ„å**ï¼šç»“æ„åŒ–çš„å­å‘½ä»¤
```bash
ai-commit tag create v1.0.0 --note "release" --push
ai-commit commit generate --push
ai-commit flow feature start user-auth
ai-commit worktree create feature/new-ui
```

### 3. æ ¸å¿ƒæ”¹è¿›ç‚¹

#### AI æ¨¡å—æ”¹è¿›
- **Provider Trait**ï¼šç»Ÿä¸€çš„ AI æä¾›å•†æ¥å£
- **åŠ¨æ€åŠ è½½**ï¼šä½¿ç”¨å·¥å‚æ¨¡å¼åˆ›å»ºæä¾›å•†
- **æç¤ºè¯æ¨¡æ¿**ï¼šå¯é…ç½®ã€å¯æ‰©å±•çš„æ¨¡æ¿ç³»ç»Ÿ
- **æµå¼å¤„ç†**ï¼šä¼˜åŒ–å†…å­˜ä½¿ç”¨ï¼Œå®æ—¶è¾“å‡º

#### Git æ¨¡å—æ”¹è¿›
- **Repository æŠ½è±¡**ï¼šå°è£…åº•å±‚ Git æ“ä½œ
- **Manager æ¨¡å¼**ï¼šæ¯ç§æ“ä½œæœ‰ä¸“é—¨çš„ç®¡ç†å™¨
- **å¼‚æ­¥æ‰§è¡Œ**ï¼šæ‰€æœ‰ Git å‘½ä»¤å¼‚æ­¥åŒ–
- **æ‰¹é‡æ“ä½œ**ï¼šå¹¶è¡Œæ‰§è¡Œå¤šä¸ªå‘½ä»¤

#### é…ç½®ç³»ç»Ÿæ”¹è¿›
- **åˆ†å±‚é…ç½®**ï¼šå…¨å±€ã€é¡¹ç›®ã€ç¯å¢ƒå˜é‡
- **ç±»å‹å®‰å…¨**ï¼šä½¿ç”¨ serde è¿›è¡Œåºåˆ—åŒ–
- **éªŒè¯æœºåˆ¶**ï¼šè‡ªåŠ¨éªŒè¯é…ç½®æœ‰æ•ˆæ€§
- **ç¼“å­˜ä¼˜åŒ–**ï¼šå‡å°‘é‡å¤è¯»å–

### 4. æ€§èƒ½ä¼˜åŒ–

1. **HTTP è¿æ¥å¤ç”¨**
   - ä½¿ç”¨å…¨å±€å®¢æˆ·ç«¯å•ä¾‹
   - è¿æ¥æ± ç®¡ç†
   - è¶…æ—¶å’Œé‡è¯•æœºåˆ¶

2. **å¹¶è¡Œå¤„ç†**
   - Git å‘½ä»¤å¹¶è¡Œæ‰§è¡Œ
   - å¼‚æ­¥ I/O æ“ä½œ
   - ä»»åŠ¡æ± ç®¡ç†

3. **å†…å­˜ä¼˜åŒ–**
   - é¢„åˆ†é…ç¼“å†²åŒº
   - æµå¼å¤„ç†å¤§æ–‡ä»¶
   - æ™ºèƒ½ diff åˆ†æ

4. **ç¼“å­˜ç­–ç•¥**
   - é…ç½®ç¼“å­˜
   - Git çŠ¶æ€ç¼“å­˜
   - æç¤ºè¯æ¨¡æ¿ç¼“å­˜

### 5. æµ‹è¯•ç­–ç•¥

æ¯ä¸ªæ¨¡å—éƒ½åŒ…å«å®Œæ•´çš„å•å…ƒæµ‹è¯•ï¼š

```rust
#[cfg(test)]
mod tests {
    use super::*;

    #[test]
    fn test_functionality() {
        // æµ‹è¯•åŸºæœ¬åŠŸèƒ½
    }

    #[test]
    fn test_edge_cases() {
        // æµ‹è¯•è¾¹ç•Œæƒ…å†µ
    }

    #[tokio::test]
    async fn test_async_operations() {
        // æµ‹è¯•å¼‚æ­¥æ“ä½œ
    }
}
```

### 6. ä½¿ç”¨ç¤ºä¾‹

#### åŸºæœ¬ä½¿ç”¨
```bash
# ç”Ÿæˆå¹¶æäº¤
ai-commit commit generate

# åˆ›å»ºæ ‡ç­¾
ai-commit tag create v1.0.0

# Git Flow
ai-commit flow init
ai-commit flow feature start new-feature
ai-commit flow feature finish new-feature

# å·¥ä½œæ ‘ç®¡ç†
ai-commit worktree list
ai-commit worktree create feature/test
```

#### é«˜çº§ä½¿ç”¨
```bash
# è‡ªå®šä¹‰ AI æä¾›å•†
ai-commit config set provider deepseek
ai-commit config set model gpt-4

# æ‰¹é‡æ“ä½œ
ai-commit commit generate --add --push --tag v1.0.0

# å†å²åˆ†æ
ai-commit history log --author "å¼ ä¸‰" --since "2024-01-01"
ai-commit history stats --format json
```

## å®æ–½æ­¥éª¤

1. âœ… åˆ†æç°æœ‰ä»£ç æ¶æ„é—®é¢˜
2. âœ… è®¾è®¡æ–°çš„å‘½ä»¤è¡Œæ¶æ„
3. âœ… é‡æ„ AI æ¨¡å—ï¼ˆæå‡æ‰©å±•æ€§ï¼‰
4. ğŸ”„ é‡æ„ Git æ¨¡å—ï¼ˆå•ä¸€èŒè´£ï¼‰
5. â³ å®ç°æ–°çš„ CLI å­å‘½ä»¤ç»“æ„
6. â³ ä¼˜åŒ–æ€§èƒ½ç“¶é¢ˆ
7. â³ æ·»åŠ å®Œæ•´çš„å•å…ƒæµ‹è¯•
8. â³ ç¼–å†™è¿ç§»æŒ‡å—
9. â³ æ›´æ–°æ–‡æ¡£

## ä¼˜åŠ¿å¯¹æ¯”

| æ–¹é¢ | é‡æ„å‰ | é‡æ„å |
|------|--------|--------|
| å‘½ä»¤å¤æ‚åº¦ | 100+ å‚æ•° | ç»“æ„åŒ–å­å‘½ä»¤ |
| ä»£ç å¯è¯»æ€§ | å•æ–‡ä»¶è¿‡å¤§ | æ¨¡å—åŒ–è®¾è®¡ |
| æ‰©å±•æ€§ | ä¿®æ”¹å›°éš¾ | æ˜“äºæ‰©å±• |
| æµ‹è¯•è¦†ç›– | éƒ¨åˆ†æµ‹è¯• | å®Œæ•´æµ‹è¯• |
| æ€§èƒ½ | ä¸²è¡Œæ‰§è¡Œ | å¹¶è¡Œä¼˜åŒ– |
| ç»´æŠ¤æˆæœ¬ | é«˜ | ä½ |

## è¿ç§»å»ºè®®

1. **å‘åå…¼å®¹**ï¼šä¿ç•™æ—§å‘½ä»¤åˆ«å
2. **æ¸è¿›è¿ç§»**ï¼šé€æ­¥æ›¿æ¢æ¨¡å—
3. **æ–‡æ¡£æ›´æ–°**ï¼šæä¾›è¯¦ç»†è¿ç§»æŒ‡å—
4. **æµ‹è¯•éªŒè¯**ï¼šç¡®ä¿åŠŸèƒ½ä¸å—å½±å“

## ä¸‹ä¸€æ­¥è¡ŒåŠ¨

1. å®Œæˆå‰©ä½™æ¨¡å—çš„é‡æ„å®ç°
2. å®ç°å®Œæ•´çš„ CLI å­å‘½ä»¤ç³»ç»Ÿ
3. æ·»åŠ æ€§èƒ½åŸºå‡†æµ‹è¯•
4. ç¼–å†™ç”¨æˆ·è¿ç§»æ–‡æ¡£
5. å‘å¸ƒ v2.0.0 ç‰ˆæœ¬